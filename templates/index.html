<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>네트워크 자동화</title>
    <link rel="shortcut icon" href="{{ url_for('static', filename='favicon.ico') }}">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.7.2/font/bootstrap-icons.css" rel="stylesheet">
</head>
<body>
    <div class="container mt-4">
        <!-- 오류 메시지가 여기에 동적으로 추가됨 -->
        
        <!-- 탭 메뉴 -->
        <ul class="nav nav-tabs" id="mainTabs" role="tablist">
            <li class="nav-item" role="presentation">
                <button class="nav-link active" id="basic-tab" data-bs-toggle="tab" data-bs-target="#basic" type="button" role="tab">
                    기본정보
                </button>
            </li>
            <li class="nav-item" role="presentation">
                <button class="nav-link" id="settings-tab" data-bs-toggle="tab" data-bs-target="#settings" type="button" role="tab">
                    설정작업
                </button>
            </li>
            <li class="nav-item" role="presentation">
                <button class="nav-link" id="learning-tab" data-bs-toggle="tab" data-bs-target="#learning" type="button" role="tab">
                    CLI 학습 및 자동화
                </button>
            </li>
        </ul>

        <!-- 탭 컨텐츠 -->
        <div class="tab-content" id="mainTabsContent">
            <!-- 기본정보 탭 -->
            <div class="tab-pane fade show active" id="basic" role="tabpanel">
                <div class="card border-top-0">
                    <div class="card-body">
                        <h5 class="card-title">장비 추가</h5>
                        <form id="deviceForm">
                            <div class="row g-3">
                                <div class="col-md-6">
                                    <label for="deviceName" class="form-label">장비 이름</label>
                                    <input type="text" class="form-control" id="deviceName" required>
                                </div>
                                <div class="col-md-6">
                                    <label for="deviceVendor" class="form-label">벤더</label>
                                    <select class="form-select" id="deviceVendor" required>
                                        <option value="">벤더 선택</option>
                                        <option value="cisco">Cisco</option>
                                        <option value="juniper">Juniper</option>
                                        <option value="hp">HP</option>
                                        <option value="arista">Arista</option>
                                        <option value="handreamnet">한드림넷</option>
                                        <option value="coreedge">코어엣지네트웍스</option>
                                    </select>
                                </div>
                                <div class="col-md-6">
                                    <label for="deviceIP" class="form-label">IP 주소</label>
                                    <input type="text" class="form-control" id="deviceIP" required>
                                </div>
                                <div class="col-12">
                                    <button type="submit" class="btn btn-primary">장비 추가</button>
                                </div>
                            </div>
                        </form>

                        <div class="mt-4">
                            <h5>등록된 장비 목록</h5>
                            <div class="table-responsive">
                                <table class="table table-striped">
                                    <thead>
                                        <tr>
                                            <th>#</th>
                                            <th>장비 이름</th>
                                            <th>벤더</th>
                                            <th>IP</th>
                                            <th>작업</th>
                                        </tr>
                                    </thead>
                                    <tbody id="deviceListBasic">
                                    </tbody>
                                </table>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- 설정작업 탭 -->
            <div class="tab-pane fade" id="settings" role="tabpanel">
                <div class="row">
                    <!-- 장비 선택 및 작업 유형 선택 -->
                    <div class="col-md-4">
                        <div class="card">
                            <div class="card-header">
                                <h5 class="card-title mb-0">장비 및 작업 선택</h5>
                            </div>
                            <div class="card-body">
                                <form id="configForm">
                                    <!-- 장비 선택 -->
                                    <div class="mb-3">
                                        <label for="deviceSelect" class="form-label">장비 선택</label>
                                        <select class="form-select" id="deviceSelect" required>
                                            <option value="">장비를 선택하세요</option>
                                        </select>
                                    </div>
                                    
                                    <!-- 작업 유형 선택 -->
                                    <div class="mb-3">
                                        <label for="taskType" class="form-label">작업 유형</label>
                                        <select class="form-select" id="taskType" required>
                                            <option value="">작업 유형을 선택하세요</option>
                                            <option value="vlan">VLAN 관리</option>
                                            <option value="port">포트 설정</option>
                                            <option value="routing">라우팅 설정</option>
                                            <option value="security">보안 설정</option>
                                            <option value="stp_lacp">STP 및 LACP</option>
                                            <option value="qos">QoS 및 트래픽 제어</option>
                                            <option value="route_monitor">라우팅 상태 모니터링</option>
                                            <option value="network_check">네트워크 상태 점검</option>
                                            <option value="logging">로그 수집</option>
                                            <option value="backup">구성 백업 및 복원</option>
                                            <option value="snmp">SNMP 및 모니터링</option>
                                            <option value="automation">자동화 스크립트 확장</option>
                                        </select>
                                    </div>
                                </form>
                            </div>
                        </div>
                    </div>

                    <!-- 작업 상세 설정 -->
                    <div class="col-md-8">
                        <div class="card">
                            <div class="card-header">
                                <h5 class="card-title mb-0">작업 상세 설정</h5>
                            </div>
                            <div class="card-body">
                                <div id="taskDetails">
                                    <!-- 작업 유형별 상세 설정이 여기에 동적으로 로드됩니다 -->
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- 스크립트 생성 및 실행 버튼 -->
                <div class="row mt-3">
                    <div class="col-12">
                        <div class="card">
                            <div class="card-body">
                                <button type="button" class="btn btn-primary me-2" id="generateScript" disabled>
                                    스크립트 생성
                                </button>
                                <button type="button" class="btn btn-success" id="executeScript" disabled>
                                    실행
                                </button>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- 생성된 스크립트 표시 영역 -->
                <div class="row mt-3">
                    <div class="col-12">
                        <div class="card">
                            <div class="card-header">
                                <h5 class="card-title mb-0">생성된 스크립트</h5>
                            </div>
                            <div class="card-body">
                                <pre id="generatedScript" class="bg-light p-3 rounded">
                                    <!-- 생성된 스크립트가 여기에 표시됩니다 -->
                                </pre>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- CLI 학습 및 자동화 탭 -->
            <div class="tab-pane fade" id="learning" role="tabpanel">
                <div class="card border-top-0">
                    <div class="card-body">
                        <h5 class="card-title">자동 학습</h5>
                        <!-- 자동학습 섹션 -->
                        <div class="mb-3">
                            <label for="learningVendor" class="form-label">벤더 선택</label>
                            <select class="form-select" id="learningVendor">
                                <option value="">벤더를 선택하세요</option>
                                <option value="cisco">Cisco</option>
                                <option value="juniper">Juniper</option>
                                <option value="hp">HP</option>
                                <option value="arista">Arista</option>
                                <option value="handreamnet">한드림넷</option>
                                <option value="coreedge">코어엣지네트웍스</option>
                            </select>
                        </div>

                        <button type="button" class="btn btn-primary w-100" id="startLearning" disabled>
                            자동 학습 시작
                        </button>

                        <div id="learningProgress" class="mt-3" style="display: none;">
                            <div class="progress">
                                <div class="progress-bar progress-bar-striped progress-bar-animated" 
                                     role="progressbar" 
                                     style="width: 0%">
                                </div>
                            </div>
                        </div>

                        <div id="learningResult" class="mt-3"></div>

                        <!-- 장비 목록 섹션 -->
                        <div class="mt-4">
                            <h5>장비 목록</h5>
                            <div class="table-responsive">
                                <table class="table table-striped table-hover">
                                    <thead>
                                        <tr>
                                            <th>#</th>
                                            <th>장비 이름</th>
                                            <th>벤더</th>
                                            <th>IP</th>
                                            <th>작업</th>
                                        </tr>
                                    </thead>
                                    <tbody id="deviceList">
                                        <!-- 장비 목록이 여기에 동적으로 추가됨 -->
                                    </tbody>
                                </table>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- JavaScript -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"></script>
    <script src="{{ url_for('static', filename='js/script.js') }}"></script>
</body>
</html>

